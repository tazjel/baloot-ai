============================= test session starts =============================
platform win32 -- Python 3.12.10, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\MiEXCITE\AppData\Local\Programs\Python\Python312\python.exe
cachedir: .pytest_cache
metadata: {'Python': '3.12.10', 'Platform': 'Windows-11-10.0.26200-SP0', 'Packages': {'pytest': '9.0.2', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '3.7.1', 'locust': '2.43.1', 'base-url': '2.1.0', 'cov': '7.0.0', 'html': '4.2.0', 'metadata': '3.1.1', 'playwright': '0.7.2', 'playwright-visual': '2.1.2', 'rerunfailures': '16.1', 'xdist': '3.8.0'}, 'Base URL': ''}
rootdir: C:\Users\MiEXCITE\Projects\baloot-ai
configfile: pytest.ini
plugins: anyio-3.7.1, locust-2.43.1, base-url-2.1.0, cov-7.0.0, html-4.2.0, metadata-3.1.1, playwright-0.7.2, playwright-visual-2.1.2, rerunfailures-16.1, xdist-3.8.0
collecting ... collected 308 items

tests/ai_features/test_feature_extractor.py::TestFeatureExtractor::test_dimensions PASSED [  0%]
tests/ai_features/test_feature_extractor.py::TestFeatureExtractor::test_hand_encoding PASSED [  0%]
tests/bidding/test_bidding_edge_cases.py::TestDoublingEdgeCases::test_cannot_double_own_bid PASSED [  0%]
tests/bidding/test_bidding_edge_cases.py::TestDoublingEdgeCases::test_cannot_double_already_doubled PASSED [  1%]
tests/bidding/test_bidding_edge_cases.py::TestDoublingEdgeCases::test_cannot_triple_without_double PASSED [  1%]
tests/bidding/test_bidding_edge_cases.py::TestDoublingEdgeCases::test_only_opponents_can_triple_fails_for_opponent PASSED [  1%]
tests/bidding/test_bidding_edge_cases.py::TestDoublingEdgeCases::test_cannot_four_without_triple PASSED [  2%]
tests/bidding/test_bidding_edge_cases.py::TestDoublingEdgeCases::test_only_opponents_can_four PASSED [  2%]
tests/bidding/test_bidding_edge_cases.py::TestDoublingEdgeCases::test_cannot_gahwa_without_four PASSED [  2%]
tests/bidding/test_bidding_edge_cases.py::TestDoublingEdgeCases::test_only_taker_team_can_gahwa PASSED [  3%]
tests/bidding/test_bidding_edge_cases.py::TestDoublingEdgeCases::test_unknown_doubling_action PASSED [  3%]
tests/bidding/test_bidding_edge_cases.py::TestDoublingPassTransitions::test_sun_pass_goes_to_finished PASSED [  3%]
tests/bidding/test_bidding_edge_cases.py::TestDoublingPassTransitions::test_hokum_pass_goes_to_variant_selection PASSED [  4%]
tests/bidding/test_bidding_edge_cases.py::TestRoundTransitions::test_all_pass_r1_goes_to_r2 PASSED [  4%]
tests/bidding/test_bidding_edge_cases.py::TestRoundTransitions::test_all_pass_r1_and_r2_goes_to_finished PASSED [  4%]
tests/bidding/test_bidding_edge_cases.py::TestRoundTransitions::test_r2_hokum_different_suit_allowed PASSED [  5%]
tests/bidding/test_bidding_edge_cases.py::TestRoundTransitions::test_r2_hokum_floor_suit_rejected PASSED [  5%]
tests/bidding/test_bidding_edge_cases.py::TestRoundTransitions::test_r1_hokum_must_be_floor_suit PASSED [  5%]
tests/bidding/test_bidding_edge_cases.py::TestGablakEdgeCases::test_cannot_pass_during_gablak_window PASSED [  6%]
tests/bidding/test_bidding_edge_cases.py::TestBidHierarchy::test_cannot_bid_hokum_after_sun PASSED [  6%]
tests/bidding/test_bidding_edge_cases.py::TestBidHierarchy::test_turn_enforcement PASSED [  6%]
tests/bidding/test_bidding_engine.py::TestBiddingEngine::test_doubling_chain PASSED [  7%]
tests/bidding/test_bidding_engine.py::TestBiddingEngine::test_gablak_interrupt PASSED [  7%]
tests/bidding/test_bidding_engine.py::TestBiddingEngine::test_priority_queue PASSED [  7%]
tests/bidding/test_bidding_engine.py::TestBiddingEngine::test_sun_firewall_rule PASSED [  8%]
tests/bidding/test_bidding_engine.py::TestBiddingEngine::test_sun_hijack_with_priority PASSED [  8%]
tests/bidding/test_bidding_engine_unit.py::test_initial_state PASSED     [  8%]
tests/bidding/test_bidding_engine_unit.py::test_pass_round_1_all PASSED  [  9%]
tests/bidding/test_bidding_engine_unit.py::test_pass_round_1_and_2_all PASSED [  9%]
tests/bidding/test_bidding_engine_unit.py::test_hokum_bid_round_1_success PASSED [  9%]
tests/bidding/test_bidding_engine_unit.py::test_hokum_bid_round_1_wrong_suit PASSED [ 10%]
tests/bidding/test_bidding_engine_unit.py::test_sun_bid_hijack_hokum_directly PASSED [ 10%]
tests/bidding/test_bidding_engine_unit.py::test_gablak_trigger_simple PASSED [ 10%]
tests/bidding/test_bidding_engine_unit.py::test_gablak_priority_steal_window PASSED [ 11%]
tests/bidding/test_bidding_engine_unit.py::test_doubling_chain PASSED    [ 11%]
tests/bidding/test_bidding_engine_unit.py::test_sun_double_firewall PASSED [ 11%]
tests/bidding/test_bidding_engine_unit.py::test_variant_selection PASSED [ 12%]
tests/bidding/test_bidding_engine_unit.py::test_kawesh_pre_bid PASSED    [ 12%]
tests/bidding/test_bidding_engine_unit.py::test_kawesh_post_bid_rotation PASSED [ 12%]
tests/bidding/test_bidding_rules.py::test_ashkal_ace_constraint PASSED   [ 12%]
tests/bidding/test_bidding_rules.py::test_ashkal_success_non_ace PASSED  [ 13%]
tests/bidding/test_bidding_rules.py::test_kawesh_success PASSED          [ 13%]
tests/bidding/test_bidding_rules.py::test_kawesh_fail_with_points PASSED [ 13%]
tests/bidding/test_bidding_rules.py::test_kawesh_post_bid_rotation PASSED [ 14%]
tests/bidding/test_bidding_rules.py::test_round_2_hukum_restriction PASSED [ 14%]
tests/bot/test_adaptive_atmosphere.py::test_tension_logic PASSED         [ 14%]
tests/bot/test_ai_agent.py::TestBotAgent::test_bidding_delegation PASSED [ 15%]
tests/bot/test_ai_agent.py::TestBotAgent::test_brain_override_playing PASSED [ 15%]
tests/bot/test_ai_agent.py::TestBotAgent::test_playing_delegation PASSED [ 15%]
tests/bot/test_ai_worker_coverage.py::TestAIWorkerCoverage::test_get_decision_bidding_pass PASSED [ 16%]
tests/bot/test_ai_worker_coverage.py::TestAIWorkerCoverage::test_brain_override PASSED [ 16%]
tests/bot/test_bot_strategies.py::TestBotStrategies::test_ashkal_response_round_1 PASSED [ 16%]
tests/bot/test_bot_strategies.py::TestBotStrategies::test_ashkal_response_round_2 PASSED [ 17%]
tests/bot/test_bot_strategies.py::TestBotStrategies::test_strong_project_ashkal_banned_on_ace PASSED [ 17%]
tests/bot/test_bot_strategies.py::TestBotStrategies::test_strong_project_ashkal_bid PASSED [ 17%]
tests/features/test_akka.py::TestAkkaLogic::test_akka_eligibility_king_after_ace_played PASSED [ 18%]
tests/features/test_akka.py::TestAkkaLogic::test_akka_eligibility_simple PASSED [ 18%]
tests/features/test_akka.py::TestAkkaLogic::test_handle_akka_invalid PASSED [ 18%]
tests/features/test_akka.py::TestAkkaLogic::test_handle_akka_valid PASSED [ 19%]
tests/features/test_akka_strict.py::TestAkkaStrict::test_akka_ace_restriction PASSED [ 19%]
tests/features/test_akka_strict.py::TestAkkaStrict::test_akka_invalid_scenario PASSED [ 19%]
tests/features/test_akka_strict.py::TestAkkaStrict::test_akka_mode_restriction PASSED [ 20%]
tests/features/test_akka_strict.py::TestAkkaStrict::test_akka_trump_restriction PASSED [ 20%]
tests/features/test_akka_strict.py::TestAkkaStrict::test_akka_valid_scenario PASSED [ 20%]
tests/features/test_ashkal.py::TestAshkal::test_ashkal_invalid_partner PASSED [ 21%]
tests/features/test_ashkal.py::TestAshkal::test_ashkal_invalid_right_opponent PASSED [ 21%]
tests/features/test_ashkal.py::TestAshkal::test_ashkal_valid_dealer PASSED [ 21%]
tests/features/test_ashkal.py::TestAshkal::test_ashkal_valid_left_opponent PASSED [ 22%]
tests/features/test_ashkal.py::TestAshkal::test_ashkal_valid_round_2 PASSED [ 22%]
tests/features/test_ashkal_rules.py::TestAshkalRules::test_ashkal_ace_constraint PASSED [ 22%]
tests/features/test_ashkal_rules.py::TestAshkalRules::test_ashkal_dealer_eligibility PASSED [ 23%]
tests/features/test_ashkal_rules.py::TestAshkalRules::test_ashkal_eligibility_round_1 PASSED [ 23%]
tests/features/test_ashkal_rules.py::TestAshkalRules::test_ashkal_round_2 PASSED [ 23%]
tests/features/test_baloot_project.py::test_baloot_project_valid PASSED  [ 24%]
tests/features/test_baloot_project.py::test_baloot_project_invalid_suit PASSED [ 24%]
tests/features/test_baloot_project.py::test_baloot_project_invalid_mode PASSED [ 24%]
tests/features/test_kawesh.py::test_is_kawesh_hand_valid PASSED          [ 25%]
tests/features/test_kawesh.py::test_is_kawesh_hand_invalid PASSED        [ 25%]
tests/features/test_kawesh.py::test_kawesh_action_in_engine PASSED       [ 25%]
tests/features/test_mashaari.py::TestMashaari::test_compare_projects_rank PASSED [ 25%]
tests/features/test_mashaari.py::TestMashaari::test_compare_projects_score PASSED [ 26%]
tests/features/test_mashaari.py::TestMashaari::test_compare_projects_tie_distance PASSED [ 26%]
tests/features/test_mashaari.py::TestMashaari::test_end_round_mashaari_tie_breaker PASSED [ 26%]
tests/features/test_mashaari.py::TestMashaari::test_end_round_mashaari_us_wins PASSED [ 27%]
tests/features/test_project_scoring.py::TestProjectEligibility::test_five_card_sequence_hundred PASSED [ 27%]
tests/features/test_project_scoring.py::TestProjectEligibility::test_four_of_a_kind_detected PASSED [ 27%]
tests/features/test_project_scoring.py::TestProjectEligibility::test_no_projects_in_weak_hand PASSED [ 28%]
tests/features/test_project_scoring.py::TestProjectEligibility::test_three_card_sequence_sira PASSED [ 28%]
tests/features/test_project_scoring.py::TestProjectScoring::test_multiple_projects_same_team PASSED [ 28%]
tests/features/test_project_scoring.py::TestProjectScoring::test_project_adds_game_points_hokum PASSED [ 29%]
tests/features/test_project_scoring.py::TestProjectScoring::test_project_adds_game_points_sun PASSED [ 29%]
tests/features/test_project_scoring.py::TestProjectScoring::test_project_on_khasara_goes_to_opponent PASSED [ 29%]
tests/features/test_project_scoring.py::TestProjectScoring::test_projects_from_both_teammates PASSED [ 30%]
tests/features/test_project_scoring.py::TestProjectResolution::test_higher_project_wins_all PASSED [ 30%]
tests/features/test_project_scoring.py::TestProjectResolution::test_no_declarations_produces_empty PASSED [ 30%]
tests/features/test_project_scoring.py::TestProjectResolution::test_single_team_declaration_always_valid PASSED [ 31%]
tests/features/test_sawa.py::TestSawaLogic::test_sawa_eligible_after_cards_played PASSED [ 31%]
tests/features/test_sawa.py::TestSawaLogic::test_sawa_eligible_hokum_trump_master PASSED [ 31%]
tests/features/test_sawa.py::TestSawaLogic::test_sawa_eligible_master_sun PASSED [ 32%]
tests/features/test_sawa.py::TestSawaLogic::test_sawa_empty_hand PASSED  [ 32%]
tests/features/test_sawa.py::TestSawaLogic::test_sawa_not_eligible_gap_in_sequence PASSED [ 32%]
tests/features/test_sawa.py::TestSawaLogic::test_sawa_not_eligible_weak_hand PASSED [ 33%]
tests/features/test_sira.py::TestSiraLogic::test_sequence_7_cards PASSED [ 33%]
tests/features/test_sira.py::TestSiraLogic::test_sequence_broken PASSED  [ 33%]
tests/features/test_sun_kaboot.py::TestSunKaboot::test_sun_kaboot_them_wins PASSED [ 34%]
tests/features/test_sun_kaboot.py::TestSunKaboot::test_sun_kaboot_us_wins PASSED [ 34%]
tests/features/test_sun_kaboot.py::TestSunKaboot::test_sun_kaboot_with_projects PASSED [ 34%]
tests/features/test_timer.py::TestTimerBasics::test_custom_default_duration PASSED [ 35%]
tests/features/test_timer.py::TestTimerBasics::test_initial_state PASSED [ 35%]
tests/features/test_timer.py::TestTimerBasics::test_reset_activates_timer PASSED [ 35%]
tests/features/test_timer.py::TestTimerBasics::test_reset_with_custom_duration PASSED [ 36%]
tests/features/test_timer.py::TestTimerBasics::test_stop_deactivates PASSED [ 36%]
tests/features/test_timer.py::TestTimerElapsed::test_elapsed_inactive_returns_zero PASSED [ 36%]
tests/features/test_timer.py::TestTimerElapsed::test_elapsed_time_progresses PASSED [ 37%]
tests/features/test_timer.py::TestTimerElapsed::test_remaining_floors_at_zero PASSED [ 37%]
tests/features/test_timer.py::TestTimerElapsed::test_remaining_time_decreases PASSED [ 37%]
tests/features/test_timer.py::TestTimerPauseResume::test_double_pause_is_no_op PASSED [ 37%]
tests/features/test_timer.py::TestTimerPauseResume::test_pause_freezes_elapsed PASSED [ 38%]
tests/features/test_timer.py::TestTimerPauseResume::test_pause_prevents_expiration PASSED [ 38%]
tests/features/test_timer.py::TestTimerPauseResume::test_resume_continues_from_paused PASSED [ 38%]
tests/features/test_timer.py::TestTimerPauseResume::test_resume_inactive_is_no_op PASSED [ 39%]
tests/features/test_timer.py::TestTimerExpiration::test_expired_after_duration PASSED [ 39%]
tests/features/test_timer.py::TestTimerExpiration::test_expired_inactive_returns_false PASSED [ 39%]
tests/features/test_timer.py::TestTimerExpiration::test_lag_inactive_returns_zero PASSED [ 40%]
tests/features/test_timer.py::TestTimerExpiration::test_lag_when_expired PASSED [ 40%]
tests/features/test_timer.py::TestTimerExpiration::test_lag_when_not_expired PASSED [ 40%]
tests/features/test_timer.py::TestTimerExpiration::test_not_expired_when_within_duration PASSED [ 41%]
tests/game_logic/test_game_lifecycle.py::TestGameSetup::test_all_dealt_cards_are_unique PASSED [ 41%]
tests/game_logic/test_game_lifecycle.py::TestGameSetup::test_cannot_start_with_fewer_than_4_players PASSED [ 41%]
tests/game_logic/test_game_lifecycle.py::TestGameSetup::test_game_start_deals_initial_cards PASSED [ 42%]
tests/game_logic/test_game_lifecycle.py::TestGameSetup::test_game_start_enters_bidding PASSED [ 42%]
tests/game_logic/test_game_lifecycle.py::TestGameSetup::test_player_positions PASSED [ 42%]
tests/game_logic/test_game_lifecycle.py::TestGameSetup::test_player_teams_assigned_correctly PASSED [ 43%]
tests/game_logic/test_game_lifecycle.py::TestBiddingPhase::test_all_pass_round_1_continues PASSED [ 43%]
tests/game_logic/test_game_lifecycle.py::TestBiddingPhase::test_sun_bid_transitions_to_playing PASSED [ 43%]
tests/game_logic/test_game_lifecycle.py::TestPlayPhase::test_all_hands_empty_after_round PASSED [ 44%]
tests/game_logic/test_game_lifecycle.py::TestPlayPhase::test_full_round_ends_game PASSED [ 44%]
tests/game_logic/test_game_lifecycle.py::TestPlayPhase::test_full_trick_clears_table PASSED [ 44%]
tests/game_logic/test_game_lifecycle.py::TestPlayPhase::test_play_card_success PASSED [ 45%]
tests/game_logic/test_game_lifecycle.py::TestScoringIntegration::test_match_scores_accumulate PASSED [ 45%]
tests/game_logic/test_game_lifecycle.py::TestScoringIntegration::test_round_result_has_team_data PASSED [ 45%]
tests/game_logic/test_game_lifecycle.py::TestScoringIntegration::test_round_result_recorded PASSED [ 46%]
tests/game_logic/test_game_logic.py::TestGameLogic::test_bidding PASSED  [ 46%]
tests/game_logic/test_game_logic.py::TestGameLogic::test_four_aces_sun_vs_hokum PASSED [ 46%]
tests/game_logic/test_game_logic.py::TestGameLogic::test_initialization PASSED [ 47%]
tests/game_logic/test_game_logic.py::TestGameLogic::test_project_validation PASSED [ 47%]
tests/game_logic/test_game_logic.py::TestGameLogic::test_sawa_flow PASSED [ 47%]
tests/game_logic/test_game_logic.py::TestGameLogic::test_start_game PASSED [ 48%]
tests/game_logic/test_game_logic.py::TestGameLogic::test_sun_tie_breaker PASSED [ 48%]
tests/game_logic/test_game_logic.py::TestGameLogic::test_trick_logic PASSED [ 48%]
tests/game_logic/test_game_logic.py::TestGameLogic::test_validate_project_400_as_100 PASSED [ 49%]
tests/game_logic/test_game_logic.py::TestGameLogic::test_validate_project_400_explicit PASSED [ 49%]
tests/game_logic/test_game_logic.py::TestGameLogic::test_validate_project_sequence_middle PASSED [ 49%]
tests/game_logic/test_game_logic.py::TestGameLogic::test_validate_project_sequence_rank PASSED [ 50%]
tests/game_logic/test_qayd_e2e_flow.py::TestQaydFullFlow::test_complete_flow_with_round_trips PASSED [ 50%]
tests/game_logic/test_qayd_e2e_flow.py::TestQaydFullFlow::test_flow_without_round_trips PASSED [ 50%]
tests/game_logic/test_qayd_e2e_flow.py::TestQaydStepEnforcement::test_crime_card_without_trigger PASSED [ 50%]
tests/game_logic/test_qayd_e2e_flow.py::TestQaydStepEnforcement::test_proof_card_without_crime PASSED [ 51%]
tests/game_logic/test_qayd_e2e_flow.py::TestQaydStepEnforcement::test_violation_without_menu PASSED [ 51%]
tests/game_logic/test_qayd_e2e_flow.py::TestQaydStepEnforcement::test_menu_select_after_round_trip_gets_correct_step PASSED [ 51%]
tests/game_logic/test_qayd_e2e_flow.py::TestQaydStepEnforcement::test_violation_after_double_round_trip PASSED [ 52%]
tests/game_logic/test_qayd_e2e_flow.py::TestQaydCancelConfirm::test_cancel_mid_flow PASSED [ 52%]
tests/game_logic/test_qayd_e2e_flow.py::TestQaydCancelConfirm::test_confirm_after_verdict PASSED [ 52%]
tests/game_logic/test_qayd_e2e_flow.py::TestQaydFrontendState::test_frontend_state_at_each_step PASSED [ 53%]
tests/game_logic/test_round_trip.py::TestBasicRoundTrip::test_room_id_preserved PASSED [ 53%]
tests/game_logic/test_round_trip.py::TestBasicRoundTrip::test_phase_preserved PASSED [ 53%]
tests/game_logic/test_round_trip.py::TestBasicRoundTrip::test_player_count PASSED [ 54%]
tests/game_logic/test_round_trip.py::TestBasicRoundTrip::test_player_hands_preserved PASSED [ 54%]
tests/game_logic/test_round_trip.py::TestBasicRoundTrip::test_player_metadata PASSED [ 54%]
tests/game_logic/test_round_trip.py::TestBasicRoundTrip::test_no_duplicate_cards PASSED [ 55%]
tests/game_logic/test_round_trip.py::TestBasicRoundTrip::test_total_card_count PASSED [ 55%]
tests/game_logic/test_round_trip.py::TestBasicRoundTrip::test_json_is_truly_json_safe PASSED [ 55%]
tests/game_logic/test_round_trip.py::TestGameStateRoundTrip::test_scores_preserved PASSED [ 56%]
tests/game_logic/test_round_trip.py::TestGameStateRoundTrip::test_bid_state_preserved PASSED [ 56%]
tests/game_logic/test_round_trip.py::TestGameStateRoundTrip::test_game_mode_preserved PASSED [ 56%]
tests/game_logic/test_round_trip.py::TestGameStateRoundTrip::test_doubling_level_preserved PASSED [ 57%]
tests/game_logic/test_round_trip.py::TestGameStateRoundTrip::test_resolved_crimes_preserved PASSED [ 57%]
tests/game_logic/test_round_trip.py::TestQaydRoundTrip::test_inactive_qayd_round_trip PASSED [ 57%]
tests/game_logic/test_round_trip.py::TestQaydRoundTrip::test_active_qayd_preserves_step PASSED [ 58%]
tests/game_logic/test_round_trip.py::TestQaydRoundTrip::test_qayd_menu_select_survives PASSED [ 58%]
tests/game_logic/test_round_trip.py::TestQaydRoundTrip::test_qayd_violation_select_survives PASSED [ 58%]
tests/game_logic/test_round_trip.py::TestQaydRoundTrip::test_qayd_reporter_preserved PASSED [ 59%]
tests/game_logic/test_round_trip.py::TestQaydRoundTrip::test_qayd_state_reference_is_same_object PASSED [ 59%]
tests/game_logic/test_round_trip.py::TestAkkaRoundTrip::test_inactive_akka_round_trip PASSED [ 59%]
tests/game_logic/test_round_trip.py::TestAkkaRoundTrip::test_active_akka_preserves_state PASSED [ 60%]
tests/game_logic/test_round_trip.py::TestAkkaRoundTrip::test_akka_in_get_game_state PASSED [ 60%]
tests/game_logic/test_round_trip.py::TestAkkaRoundTrip::test_akka_state_bridge_sync PASSED [ 60%]
tests/game_logic/test_round_trip.py::TestSawaRoundTrip::test_inactive_sawa_round_trip PASSED [ 61%]
tests/game_logic/test_round_trip.py::TestSawaRoundTrip::test_active_sawa_preserves_state PASSED [ 61%]
tests/game_logic/test_round_trip.py::TestSawaRoundTrip::test_sawa_challenge_active_preserved PASSED [ 61%]
tests/game_logic/test_round_trip.py::TestSawaRoundTrip::test_sawa_in_get_game_state PASSED [ 62%]
tests/game_logic/test_round_trip.py::TestBiddingRoundTrip::test_bidding_engine_preserved_when_active PASSED [ 62%]
tests/game_logic/test_round_trip.py::TestBiddingRoundTrip::test_bidding_engine_none_when_playing PASSED [ 62%]
tests/game_logic/test_round_trip.py::TestTableCardsRoundTrip::test_table_cards_preserved PASSED [ 62%]
tests/game_logic/test_round_trip.py::TestTableCardsRoundTrip::test_empty_table PASSED [ 63%]
tests/game_logic/test_round_trip.py::TestFloorCardRoundTrip::test_floor_card_preserved PASSED [ 63%]
tests/game_logic/test_round_trip.py::TestFloorCardRoundTrip::test_no_floor_card PASSED [ 63%]
tests/game_logic/test_round_trip.py::TestTimerRoundTrip::test_timer_paused_preserved PASSED [ 64%]
tests/game_logic/test_round_trip.py::TestTimerRoundTrip::test_turn_duration_preserved PASSED [ 64%]
tests/game_logic/test_round_trip.py::TestFrontendStateConsistency::test_game_state_consistent PASSED [ 64%]
tests/game_logic/test_round_trip.py::TestFrontendStateConsistency::test_qayd_frontend_state_consistent PASSED [ 65%]
tests/game_logic/test_scoring_comprehensive.py::TestScoringComprehensive::test_baida_hokum PASSED [ 65%]
tests/game_logic/test_scoring_comprehensive.py::TestScoringComprehensive::test_baida_sun PASSED [ 65%]
tests/game_logic/test_scoring_comprehensive.py::TestScoringComprehensive::test_both_teams_projects PASSED [ 66%]
tests/game_logic/test_scoring_comprehensive.py::TestScoringComprehensive::test_doubling_sun PASSED [ 66%]
tests/game_logic/test_scoring_comprehensive.py::TestScoringComprehensive::test_gahwa_doubling PASSED [ 66%]
tests/game_logic/test_scoring_comprehensive.py::TestScoringComprehensive::test_hokum_kaboot PASSED [ 67%]
tests/game_logic/test_scoring_comprehensive.py::TestScoringComprehensive::test_kaboot_with_projects PASSED [ 67%]
tests/game_logic/test_scoring_comprehensive.py::TestScoringComprehensive::test_khasara_scenario PASSED [ 67%]
tests/game_logic/test_scoring_comprehensive.py::TestScoringComprehensive::test_khasara_with_projects PASSED [ 68%]
tests/game_logic/test_scoring_comprehensive.py::TestScoringComprehensive::test_sun_kaboot PASSED [ 68%]
tests/game_logic/test_scoring_comprehensive.py::TestScoringComprehensive::test_sun_project_scoring PASSED [ 68%]
tests/game_logic/test_scoring_comprehensive.py::TestScoringComprehensive::test_x3_doubling_hokum PASSED [ 69%]
tests/game_logic/test_scoring_debug.py::TestScoringDebug::test_hokum_split_scoring PASSED [ 69%]
tests/game_logic/test_serialization.py::test_gamestate_serialization PASSED [ 69%]
tests/game_logic/test_trick_edge_cases.py::TestTrickWinner::test_no_trump_played_highest_lead_wins PASSED [ 70%]
tests/game_logic/test_trick_edge_cases.py::TestTrickWinner::test_off_suit_card_loses PASSED [ 70%]
tests/game_logic/test_trick_edge_cases.py::TestTrickWinner::test_sun_10_beats_king PASSED [ 70%]
tests/game_logic/test_trick_edge_cases.py::TestTrickWinner::test_sun_highest_lead_suit_wins PASSED [ 71%]
tests/game_logic/test_trick_edge_cases.py::TestTrickWinner::test_sun_off_suit_never_wins PASSED [ 71%]
tests/game_logic/test_trick_edge_cases.py::TestTrickWinner::test_trump_beats_lead_suit PASSED [ 71%]
tests/game_logic/test_trick_edge_cases.py::TestTrickWinner::test_trump_jack_beats_all PASSED [ 72%]
tests/game_logic/test_trick_edge_cases.py::TestTrickWinner::test_trump_overtrump PASSED [ 72%]
tests/game_logic/test_trick_edge_cases.py::TestCanBeatTrump::test_can_beat_with_higher_trump PASSED [ 72%]
tests/game_logic/test_trick_edge_cases.py::TestCanBeatTrump::test_cannot_beat_trump_jack PASSED [ 73%]
tests/game_logic/test_trick_edge_cases.py::TestCanBeatTrump::test_multiple_beating_trumps PASSED [ 73%]
tests/game_logic/test_trick_edge_cases.py::TestCanBeatTrump::test_no_trump_in_hand PASSED [ 73%]
tests/game_logic/test_trick_edge_cases.py::TestCardPoints::test_hokum_nontrump_card_uses_sun_values PASSED [ 74%]
tests/game_logic/test_trick_edge_cases.py::TestCardPoints::test_hokum_trump_card_points PASSED [ 74%]
tests/game_logic/test_trick_edge_cases.py::TestCardPoints::test_sun_point_values PASSED [ 74%]
tests/game_logic/test_variant_selection.py::test_variant_selection_flow PASSED [ 75%]
tests/game_logic/test_variant_selection.py::test_sun_variant_flow PASSED [ 75%]
tests/qayd/test_qayd_engine_unit.py::TestQaydTrigger::test_trigger_rejected_in_finished_phase PASSED [ 75%]
tests/qayd/test_qayd_engine_unit.py::TestQaydTrigger::test_trigger_rejected_in_gameover_phase PASSED [ 75%]
tests/qayd/test_qayd_engine_unit.py::TestQaydTrigger::test_trigger_rejected_when_already_active PASSED [ 76%]
tests/qayd/test_qayd_engine_unit.py::TestQaydTrigger::test_trigger_rejected_when_game_locked PASSED [ 76%]
tests/qayd/test_qayd_engine_unit.py::TestQaydTrigger::test_trigger_sets_bot_timer PASSED [ 76%]
tests/qayd/test_qayd_engine_unit.py::TestQaydTrigger::test_trigger_sets_human_timer PASSED [ 77%]
tests/qayd/test_qayd_engine_unit.py::TestQaydTrigger::test_trigger_success PASSED [ 77%]
tests/qayd/test_qayd_engine_unit.py::TestQaydStepTransitions::test_reselect_violation_from_card_selection PASSED [ 77%]
tests/qayd/test_qayd_engine_unit.py::TestQaydStepTransitions::test_select_menu_option PASSED [ 78%]
tests/qayd/test_qayd_engine_unit.py::TestQaydStepTransitions::test_select_menu_option_wrong_step PASSED [ 78%]
tests/qayd/test_qayd_engine_unit.py::TestQaydStepTransitions::test_select_violation PASSED [ 78%]
tests/qayd/test_qayd_engine_unit.py::TestQaydCancel::test_cancel_active_qayd PASSED [ 79%]
tests/qayd/test_qayd_engine_unit.py::TestQaydCancel::test_cancel_restores_playing_phase PASSED [ 79%]
tests/qayd/test_qayd_engine_unit.py::TestQaydCancel::test_cancel_when_not_active PASSED [ 79%]
tests/qayd/test_qayd_engine_unit.py::TestQaydPenalty::test_ashkal_uses_sun_penalty PASSED [ 80%]
tests/qayd/test_qayd_engine_unit.py::TestQaydPenalty::test_doubled_penalty PASSED [ 80%]
tests/qayd/test_qayd_engine_unit.py::TestQaydPenalty::test_hokum_base_penalty PASSED [ 80%]
tests/qayd/test_qayd_engine_unit.py::TestQaydPenalty::test_sun_base_penalty PASSED [ 81%]
tests/qayd/test_qayd_engine_unit.py::TestQaydPenalty::test_tripled_penalty PASSED [ 81%]
tests/qayd/test_qayd_engine_unit.py::TestQaydEmptyState::test_empty_state_has_all_keys PASSED [ 81%]
tests/qayd/test_qayd_engine_unit.py::TestQaydEmptyState::test_empty_state_is_idle PASSED [ 82%]
tests/qayd/test_qayd_engine_unit.py::TestQaydEmptyState::test_empty_state_is_independent PASSED [ 82%]
tests/qayd/test_qayd_flow.py::test_qayd_flow_no_freeze PASSED            [ 82%]
tests/qayd/test_qayd_flow.py::test_qayd_state_serializable PASSED        [ 83%]
tests/qayd/test_qayd_flow.py::test_qayd_penalty_applied PASSED           [ 83%]
tests/qayd/test_qayd_flow.py::test_lock_decorator_prevents_play PASSED   [ 83%]
tests/qayd/test_qayd_proof_unit.py::TestQaydProof::test_handle_bot_accusation_invalid_proof PASSED [ 84%]
tests/qayd/test_qayd_proof_unit.py::TestQaydProof::test_handle_bot_accusation_revoke PASSED [ 84%]
tests/qayd/test_qayd_proof_unit.py::TestQaydProof::test_real_validator_integration PASSED [ 84%]
tests/qayd/test_qayd_stabilization.py::TestQaydStabilization::test_qayd_trigger_lock_and_release PASSED [ 85%]
tests/qayd/test_qayd_stabilization.py::TestQaydStabilization::test_zombie_state_prevention PASSED [ 85%]
tests/server/test_rate_limiter.py::TestRateLimiter::test_basic_limiting_logic PASSED [ 85%]
tests/server/test_rate_limiter.py::TestRateLimiter::test_expiry_not_set_on_subsequent_incr PASSED [ 86%]
tests/server/test_rate_limiter.py::TestRateLimiter::test_expiry_set_on_first_incr PASSED [ 86%]
tests/server/test_rate_limiter.py::TestRateLimiter::test_fail_open_on_redis_error PASSED [ 86%]
tests/server/test_stress_game.py::TestStressGame::test_full_round_simulation PASSED [ 87%]
tests/test_rollout_smoke.py::TestSmartRollout::test_finessing_behavior PASSED [ 87%]
tests/test_rollout_smoke.py::TestSmartRollout::test_full_8_card_sun_game PASSED [ 87%]
tests/test_rollout_smoke.py::TestSmartRollout::test_hokum_rollout_completes PASSED [ 87%]
tests/test_rollout_smoke.py::TestSmartRollout::test_hokum_trump_handling PASSED [ 88%]
tests/test_rollout_smoke.py::TestSmartRollout::test_sun_rollout_completes PASSED [ 88%]
tests/test_schema_completeness.py::test_game_state_schema_completeness PASSED [ 88%]
tests/unit/test_game_core_refactor.py::TestGameCoreRefactor::test_phase_property_sync PASSED [ 89%]
tests/unit/test_game_core_refactor.py::TestGameCoreRefactor::test_state_initialization PASSED [ 89%]
tests/unit/test_game_core_refactor.py::TestGameCoreRefactor::test_turn_index_sync PASSED [ 89%]
tests/unit/test_qayd_detection.py::TestForensicScannerTableCards::test_detects_illegal_card_on_table PASSED [ 90%]
tests/unit/test_qayd_detection.py::TestForensicScannerTableCards::test_ignores_legal_cards PASSED [ 90%]
tests/unit/test_qayd_detection.py::TestForensicScannerHistory::test_detects_illegal_card_in_history PASSED [ 90%]
tests/unit/test_qayd_detection.py::TestForensicScannerHistory::test_history_detection_with_multiple_tricks PASSED [ 91%]
tests/unit/test_qayd_detection.py::TestDedupPreventsRedetection::test_ignored_crimes_prevents_redetection PASSED [ 91%]
tests/unit/test_qayd_detection.py::TestDedupPreventsRedetection::test_ledger_prevents_redetection PASSED [ 91%]
tests/unit/test_qayd_detection.py::TestDedupPreventsRedetection::test_new_crime_not_blocked_by_old_dedup PASSED [ 92%]
tests/unit/test_qayd_ledger.py::test_ledger_add_on_confirm PASSED        [ 92%]
tests/unit/test_recorder.py::TestTimelineRecorder::test_recording PASSED [ 92%]
tests/unit/test_rules_akka.py::test_akka_happy_path_highest_card PASSED  [ 93%]
tests/unit/test_rules_akka.py::test_akka_negative_path_higher_card_exists PASSED [ 93%]
tests/unit/test_rules_akka.py::test_akka_self_evident_ace PASSED         [ 93%]
tests/unit/test_rules_akka.py::test_akka_wrong_mode PASSED               [ 94%]
tests/unit/test_rules_akka.py::test_akka_trump_suit PASSED               [ 94%]
tests/unit/test_rules_akka.py::test_akka_king_fails_if_10_unplayed PASSED [ 94%]
tests/unit/test_rules_akka.py::test_akka_king_succeeds_if_10_played PASSED [ 95%]
tests/unit/test_rules_akka.py::test_akka_ten_is_boss_if_ace_played PASSED [ 95%]
tests/unit/test_rules_validator.py::TestRevokeValidation::test_valid_revoke_accusation PASSED [ 95%]
tests/unit/test_rules_validator.py::TestRevokeValidation::test_invalid_revoke_proof_wrong_suit PASSED [ 96%]
tests/unit/test_rules_validator.py::TestRevokeValidation::test_invalid_revoke_temporal_violation PASSED [ 96%]
tests/unit/test_rules_validator.py::TestNoTrumpValidation::test_valid_no_trump_accusation PASSED [ 96%]
tests/unit/test_rules_validator.py::TestNoTrumpValidation::test_invalid_no_trump_sun_mode PASSED [ 97%]
tests/unit/test_rules_validator.py::TestNoOvertrumpValidation::test_valid_no_overtrump_accusation PASSED [ 97%]
tests/unit/test_rules_validator.py::TestNoOvertrumpValidation::test_invalid_no_overtrump_not_both_trump PASSED [ 97%]
tests/unit/test_rules_validator.py::TestMetadataValidation::test_metadata_flagged_crime PASSED [ 98%]
tests/unit/test_rules_validator.py::TestMetadataValidation::test_metadata_not_flagged PASSED [ 98%]
tests/unit/test_sawa_logic.py::test_sawa_sun_perfect PASSED              [ 98%]
tests/unit/test_sawa_logic.py::test_sawa_fail_missing_top PASSED         [ 99%]
tests/unit/test_sawa_logic.py::test_sawa_valid_after_ace_played PASSED   [ 99%]
tests/unit/test_sawa_logic.py::test_sawa_hokum_trump_master PASSED       [ 99%]
tests/unit/test_sawa_logic.py::test_sawa_hokum_fail_outstanding_trump PASSED [100%]

============================== warnings summary ===============================
tests\ai_features\test_builder.py:7
  C:\Users\MiEXCITE\Projects\baloot-ai\tests\ai_features\test_builder.py:7: PytestCollectionWarning: cannot collect test class 'TestBuilder' because it has a __init__ constructor (from: tests/ai_features/test_builder.py)
    class TestBuilder:

..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\ombott\request_pkg\props_mixin.py:2
  C:\Users\MiEXCITE\AppData\Local\Programs\Python\Python312\Lib\site-packages\ombott\request_pkg\props_mixin.py:2: DeprecationWarning: 'cgi' is deprecated and slated for removal in Python 3.13
    import cgi

tests/game_logic/test_round_trip.py::TestAkkaRoundTrip::test_active_akka_preserves_state
tests/game_logic/test_round_trip.py::TestAkkaRoundTrip::test_akka_in_get_game_state
tests/game_logic/test_round_trip.py::TestAkkaRoundTrip::test_akka_state_bridge_sync
tests/game_logic/test_round_trip.py::TestSawaRoundTrip::test_active_sawa_preserves_state
tests/game_logic/test_round_trip.py::TestSawaRoundTrip::test_sawa_challenge_active_preserved
tests/game_logic/test_round_trip.py::TestSawaRoundTrip::test_sawa_in_get_game_state
tests/game_logic/test_round_trip.py::TestBiddingRoundTrip::test_bidding_engine_none_when_playing
  C:\Users\MiEXCITE\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py:464: UserWarning: Pydantic serializer warnings:
    PydanticSerializationUnexpectedValue(Expected `enum` - serialized value may not be as expected [field_name='phase', input_value='PLAYING', input_type=str])
    return self.__pydantic_serializer__.to_python(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================= 308 passed, 9 warnings in 7.80s =======================
